package in.spring.service;

import java.util.ArrayList;
import java.util.List;

import in.spring.entity.Restaurant;

public class HeapSort {
	 
	
	private ArrayList<Restaurant> list;
	
	public HeapSort() {
		this.list=new ArrayList<>();
	}
	
	
	
	public List<Restaurant> getThreeClosest(List<Restaurant> byArea){
		insert(byArea);
		return  list;
	}
	
	
	private Void insert(List<Restaurant> byArea) {
      		byArea.forEach(object -> list.add(object));
      		upHeap(list.size()-1);
	}
 public void upHeap(int index){

     if(index==0){
        return;
     }
     int p=parent(index);
     if(list.get(index).getDistanceFromArea().compareTo(list.get(p).getDistanceFromArea())<0){
         swap(p,index);
         upHeap(p);
     }
 }
 private void swap(int p,int index){
     Restaurant temp=list.get(p);
     list.set(p,list.get(index));
     list.set(index,temp);
 }
     private  int  parent(int index){
      return (index-1)/2;
     }
       private int left(int index){
           return 2*index+1;
      }
 private int right(int  index){
     return  2*index+2;
 }
}

